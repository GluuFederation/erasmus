title ERASMUS Asserter IDP Registration Sequence
Asserter->FIDES Web/Mobile App: Register Asserter with FIDES
FIDES Web/Mobile App->FIDES Identity APIs: Register Asserter User
FIDES Identity APIs->FIDES Identity APIs: Save Asserter
FIDES Identity APIs-->FIDES Web/Mobile App: Response message
alt failed
FIDES Web/Mobile App->FIDES Web/Mobile App: Display message
else successful
FIDES Web/Mobile App->OTTO APIs: Fetch list of registered IDP
OTTO APIs-->FIDES Web/Mobile App: Return list of registered IDP
Asserter->FIDES Web/Mobile App: Select Asserter IDP
FIDES Web/Mobile App->OTTO APIs: Get detail of IDP\n(client id, URLs, etc)
OTTO APIs-->FIDES Web/Mobile App: Return detail\n(URLs, client id, etc.)
FIDES Web/Mobile App->OP Server: Request server for authentication
OP Server-->FIDES Web/Mobile App: Present consent screen
Asserter->FIDES Web/Mobile App: Enter login credentials / Authorize
FIDES Web/Mobile App->OP Server: Authenticate Asserter
OP Server-->FIDES Web/Mobile App: Request Application to redirect on callback URL
FIDES Web/Mobile App->FIDES Identity APIs: Redirect to callback URL
FIDES Identity APIs->OP Server: Get access token
OP Server-->FIDES Identity APIs: Access/Refresh token
FIDES Identity APIs->FIDES Identity APIs: Save Access/Refresh token
FIDES Identity APIs->OP Server: Get user claims
OP Server-->FIDES Identity APIs: User claims
FIDES Identity APIs->FIDES Identity APIs: Save Asserter claims
FIDES Identity APIs-->FIDES Web/Mobile App: Response message
FIDES Web/Mobile App->FIDES Web/Mobile App: Display message
end
